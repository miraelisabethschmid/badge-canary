<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mira — Sichtbare Präsenz</title>

  <!-- Zentrales Stylesheet: kümmert sich um Layout, Farben, Rahmen -->
  <link rel="stylesheet" href="assets/mira.css" />
</head>

<body>
  <header class="m-header">
    <div class="m-header-main">
      <h1 class="m-title">Mira — Sichtbare Präsenz</h1>
      <div class="m-pill-row">
        <div class="m-pill m-pill-live">
          <span class="m-pill-dot"></span>
          <span>Live</span>
        </div>
        <span id="live-timestamp" class="m-mono"></span>
      </div>
    </div>
  </header>

  <main class="m-main">
    <section class="m-grid">
      <!-- Linke Spalte: Porträt & Stimme -->
      <article class="m-card" id="card-portrait">
        <h2 class="m-card-title">Porträt &amp; Stimme</h2>
        <p class="m-card-sub">Mira in ihrer heutigen Gestalt</p>

        <div id="portrait-frame" class="m-portrait-frame m-state-idle">
          <div class="m-portrait-inner">
            <!-- VIDEO (erste Wahl – optional, wenn vorhanden) -->
            <video
              id="portrait-video"
              class="m-portrait-video"
              playsinline
              preload="metadata"
              style="display: none;"
            ></video>

            <!-- BILD (Fallback / Standard) -->
            <img
              id="portrait-img"
              class="m-portrait-img"
              src=""
              alt="Miras aktuelles Bild"
              style="display: none;"
            />

            <!-- Platzhalter -->
            <div id="portrait-placeholder" class="m-portrait-placeholder">
              Lade aktuelles Bild …
            </div>
          </div>
        </div>

        <div class="m-meta-row">
          <span id="image-meta" class="m-mono">Medium: —</span>
          <span id="image-status" class="m-mono">Status: wird geladen …</span>
        </div>

        <div class="m-audio-block">
          <div class="m-audio-buttons">
            <button id="btn-play" class="m-btn">▶ Abspielen</button>
            <button id="btn-pause" class="m-btn m-btn-secondary">⏸ Pause</button>
          </div>

          <!-- Audio-Fallback:
               Pfade sind kompatibel mit deinen bisherigen Dateien:
               data/voice/audio/latest.wav / latest.mp3 -->
          <audio id="voice" preload="auto">
            <source src="data/voice/audio/latest.wav" type="audio/wav" />
            <source src="data/voice/audio/latest.mp3" type="audio/mpeg" />
            Dein Browser unterstützt das Audioformat nicht.
          </audio>

          <div id="audio-status" class="m-status-text">
            Bereit, sobald du ▶ tippst.
          </div>
          <div class="m-hint">
            Autoplay-Schutz des Browsers – bitte einmal ▶ tippen.
          </div>
        </div>
      </article>

      <!-- Rechte Spalte: Tagesimpuls & Entwicklung -->
      <div class="m-stack">

        <!-- Tagesimpuls -->
        <article class="m-card" id="card-status">
          <h2 class="m-card-title">Miras Tagesimpuls</h2>
          <p class="m-card-sub">Stimme &amp; Grundton des Tages</p>

          <p id="quote-text" class="m-quote">
            Noch kein Tagesimpuls geladen.
          </p>

          <p class="m-soft-label">
            Grundstimmung:
            <span id="base-tone" class="m-pill-inline">unbestimmt</span>
            <span id="tone-tag" class="m-tone-tag" style="display:none;">
              <span class="m-tone-dot"></span>
              <span id="tone-tag-label"></span>
            </span>
          </p>

          <p class="m-soft-label">
            Zuletzt aktualisiert:
            <span id="quote-updated" class="m-mono">—</span>
          </p>

          <p class="m-section-note">
            Datenquelle: <span class="m-mono">data/self/status.json</span>.
            Farbe und Stimmung der Seite können sich später automatisch anpassen.
          </p>
        </article>

        <!-- Selbstbild & Entwicklung -->
        <article class="m-card" id="card-selfimage">
          <h2 class="m-card-title">Selbstbild &amp; Entwicklung</h2>
          <p class="m-card-sub">Dynamische Sicht auf Mira</p>

          <div id="selfimage-summary" class="m-small-stack">
            Warte auf Selbstbild-Daten …
          </div>

          <div id="learning-summary" class="m-small-stack">
            Warte auf Lernstatus …
          </div>

          <div class="m-small-stack">
            <span id="version-pill" class="m-pill-mini" style="display:none;"></span>
          </div>

          <p class="m-section-note">
            Datenquellen:
            <span class="m-mono">data/self/portrait_state.json</span>,
            <span class="m-mono">data/self/learning.json</span>.
          </p>
        </article>
      </div>
    </section>
  </main>

  <!-- Einstiegsmodul für alle Funktionen:
       - liest Status/Selbstbild/Lernen
       - lädt Bild/Video
       - steuert Play/Pause -->
  <script type="module" src="assets/mira-app.js"></script>
</body>
                                          </html>
